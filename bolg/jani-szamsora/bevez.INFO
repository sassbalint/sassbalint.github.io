
<script>

function g( id ) {
  return document.getElementById( id );
}

function call_microservice( n, callback ) {
  console.log( "call_microservice() start" );
  var x = new XMLHttpRequest();

  n = Math.round(parseFloat( n ));

  // 0 esetén nem kell a heroku-t hívni... :)
  if ( n <= 0 || isNaN( n ) ) {
    n = 0;
    g("n").value = n;
    callback( n ); return;
  }

  g("res").innerHTML = '<span style="font-size: 80%">&hellip;</span>';
  x.onreadystatechanged = function() {
    if ( x.readyState == 4 && x.status == 200 ) {
      console.log( ":) do callback: " + x.responseText )
      callback( x.responseText )
      // XXX ez vajon miért nem működik,
      // XXX emiatt most gagyi módon setTimeout() -tal kell csinálnom! :)
    }
  };
  x.open( "GET", "https://jani-szamsora.herokuapp.com/" + n, true );
  // true = asynchronous
  console.log( "call_microservice() GET opened" );
  x.send( null );
  console.log( "call_microservice() GET sent" );

  // khm.. XXX XXX gagyesz, de rendesen callback-kel nem akar menni! :)
  setTimeout( function() {
    g("n").value = n;
    console.log( x.responseText );
    callback( x.responseText )
  }, 500 )
}

function display_result( s ) {
  console.log( "display_result() start" );
  g("res").innerHTML =
    '<span id="res" style="text-weight: bold">' + s + '</span>';
}
  
</script>

<input type="text" id="n" size="6"/> &rarr;
<span id="res">??</span>
<button onclick="call_microservice( g('n').value, display_result )">Namennyi?</button>

<em>,,Bolgok, akik programoznak, mert teremtenek valamit,
ami egyszercsak életre kel és működik.''</em>
BIB{Mt}{5}{1-10}

LNAV{bolg/bipol.html}{a bipoláris zavar és a közlekedési lámpa} |
RNAV{bolg/isten-vetuletei.html}{Isten vetületei}

<br/>
2018. december 19. == Jáni számsora

<img width="62%" style="margin: 1em" alt="Jáni számsora 1-től 500-ig" src="jani-szamsora.png"/>

Jáni fiam (8) meséli:
  _,,Sétáltam az utcán, néztem a kocsik rendszámát. Akkor találtam ki ezt a szabályt.''_ 

Egy olyan szabályrendszert -- vagy hát igaziból függvényt --
sikerült kitalálnia,
amit persze ő simán kiszámol lényegében tetszőleges számra,
de amit szerintem a konkrét számokból
 =teljesen reménytelen=  megfejteni.

Fent grafikonon ábrázoltam
1-től 500-ig az egyes számokhoz rendelt eredményt.
Lent az adatok láthatók 1-től 1200-ig,
ez [le is tölthető](data.csv), ha úgy jobb.

Ránézésre egyrészt mintha lenne benne valamiféle rendszer,
másrészt viszont szinte nincs két teljesen egyforma részlet,
azaz hát elég nagy az összevisszaság.

Akinek sikerült kitalálnia (mondjuk meg tudja mondani
a 2001-2050-ig terjedő számokra az eredményt), szóljon!
Jáni azt mondja, hogy az első kitalálónak
ad  =500 forintot= , hát nem tudom...

Szerintem az emberek 0%-ának sikerül megfejtenie ezt a feladványt,
úgyhogy aki kitalálja, az mindenesetre elmondhatja,
hogy benne van a legokosabb 0%-ban. :)

